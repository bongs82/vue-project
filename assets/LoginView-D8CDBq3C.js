import{_ as y,r as i,c,a as s,d as h,w as p,v,l as f,t as g,i as L,h as b,j as D,u as P,o as m}from"./index-DNdrKBkE.js";import{h as x}from"./crypto-DZhsZgwG.js";const I={class:"login-container"},V={class:"login-form"},E={class:"input-group"},S={class:"input-group"},k=["disabled"],B={key:0,class:"error-message"},K={__name:"LoginView",setup(U){const w=P(),r=i(""),n=i(""),o=i(""),l=i(!1),d=async()=>{if(!r.value||!n.value){o.value="Please enter both ID and Password";return}l.value=!0,o.value="";try{const t=L(b,"member","user"),e=await D(t);if(e.exists()){const a=e.data();if(a.userList&&Array.isArray(a.userList)){const _=await x(n.value);a.userList.find(u=>u.id===r.value&&u.password===_)?(alert("Login Successful!"),w.push("/")):o.value="Invalid ID or Password"}else o.value="System Error: User list not found"}else o.value="System Error: Member data not found"}catch(t){console.error("Login error:",t),o.value="Login failed: "+t.message}finally{l.value=!1}};return(t,e)=>(m(),c("div",I,[e[4]||(e[4]=s("h1",null,"Login",-1)),s("div",V,[s("div",E,[e[2]||(e[2]=s("label",{for:"id"},"ID",-1)),p(s("input",{id:"id","onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),type:"text",placeholder:"Enter ID",onKeyup:f(d,["enter"])},null,544),[[v,r.value]])]),s("div",S,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),p(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),type:"password",placeholder:"Enter Password",onKeyup:f(d,["enter"])},null,544),[[v,n.value]])]),s("button",{onClick:d,disabled:l.value},g(l.value?"Logging in...":"Login"),9,k),o.value?(m(),c("p",B,g(o.value),1)):h("",!0)])]))}},N=y(K,[["__scopeId","data-v-c7bd385d"]]);export{N as default};
